const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Pagination-Nsp6pIGA.js","assets/index-sGzm-zv8.js","assets/index-DQt1lWaP.css","assets/FilterForm-DnmFUXZ-.js","assets/ProductCard-BPIcBA83.js"])))=>i.map(i=>d[i]);
import{u as _,a as N,b as P,r as a,g as y,j as s,R as c,_ as i}from"./index-sGzm-zv8.js";/* empty css                */import{S as f}from"./SkeletonProduct-CqETIwDz.js";const E=c.lazy(()=>i(()=>import("./Pagination-Nsp6pIGA.js"),__vite__mapDeps([0,1,2]))),h=c.lazy(()=>i(()=>import("./FilterForm-DnmFUXZ-.js"),__vite__mapDeps([3,1,2]))),S=c.lazy(()=>i(()=>import("./ProductCard-BPIcBA83.js"),__vite__mapDeps([4,1,2])));function R(){const[t]=_(),o=t.get("query"),r=t.get("category"),d=t.get("brand"),m=t.get("range"),x=t.get("rating"),{products:e,totalPages:g,totalProducts:b,loading:p}=N(n=>n.products),j=P(),[l,v]=a.useState(1),u=30;return a.useEffect(()=>{j(y({query:o,category:r,brand:d,price:m,rating:x,page:l,limit:u}))},[o,r,d,m,x,l,j]),s.jsxs("div",{className:"d-flex justify-content-around",children:[s.jsx("div",{className:"container-fluid mt-4",children:s.jsxs("div",{className:"row",children:[s.jsx("aside",{className:"col-lg-3 d-none d-lg-block",children:s.jsx(a.Suspense,{fallback:s.jsx("p",{children:"Loading filters..."}),children:s.jsx(h,{})})}),s.jsxs("main",{className:"col-lg-9",children:[(e==null?void 0:e.length)>0&&s.jsxs("small",{className:"text-muted",children:["Page ",l," of ",g," (",b," products)"]}),s.jsx("div",{className:"d-lg-none mb-3 text-end",children:s.jsxs("button",{className:"btn btn-outline-dark","data-bs-toggle":"offcanvas","data-bs-target":"#mobileFilter",children:[s.jsx("i",{className:"bi bi-funnel"})," Filters"]})}),s.jsx("div",{className:"row row-cols-2 row-cols-md-3 g-2 mt-2",children:p?s.jsx(f,{count:u}):(e==null?void 0:e.length)>0?e.map(n=>s.jsx(a.Suspense,{fallback:s.jsx(f,{count:1}),children:s.jsx(S,{product:n})},n._id)):s.jsx("div",{className:"col-12 text-center py-5",children:s.jsx("h5",{className:"text-muted",children:"No products found"})})}),(e==null?void 0:e.length)>0&&s.jsx(a.Suspense,{fallback:s.jsx("p",{children:"Loading pagination..."}),children:s.jsx(E,{page:l,setPage:v,totalPages:g})})]})]})}),s.jsxs("div",{className:"offcanvas w-75 offcanvas-start",tabIndex:"-1",id:"mobileFilter",children:[s.jsxs("div",{className:"offcanvas-header",children:[s.jsx("h5",{className:"offcanvas-title",children:"Filters"}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas"})]}),s.jsx("div",{className:"offcanvas-body",children:s.jsx(a.Suspense,{fallback:s.jsx("p",{children:"Loading filters..."}),children:s.jsx(h,{})})})]})]})}export{R as default};
