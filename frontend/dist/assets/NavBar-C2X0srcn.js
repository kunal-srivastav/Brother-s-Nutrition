const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProfilePic-CuwyOJiT.js","assets/index-sGzm-zv8.js","assets/index-DQt1lWaP.css","assets/useToastMessage-DvcYMIlM.js"])))=>i.map(i=>d[i]);
import{c as v,b as w,a as f,r,j as e,L as i,N as b,R as k,_ as C,E as y}from"./index-sGzm-zv8.js";import{I as n}from"./Icons-DCsXMgab.js";const j=k.lazy(()=>C(()=>import("./ProfilePic-CuwyOJiT.js"),__vite__mapDeps([0,1,2,3])));function S(){const d=v(),g=w(),{loggedInUser:a}=f(s=>s.users),{cartItems:l}=f(s=>s.carts),[m,x]=r.useState(""),[u,t]=r.useState(!1),p=[{to:"/",label:"Home",icon:e.jsx(n,{name:"Home"})},{to:"/collection",label:"Collection",icon:e.jsx(n,{name:"Collection"})},{to:"/about",label:"About",icon:e.jsx(n,{name:"About"})},{to:"/contact",label:"Contact",icon:e.jsx(n,{name:"Contact"})}],c=s=>{d(s),t(!1)},N=s=>{s.preventDefault();const o=m.trim();o&&(d(`/collection?query=${encodeURIComponent(o)}`),x(""))},h=()=>{g(y()),d("/login"),t(!1)};return e.jsxs("header",{className:"navbar navbar-light bg-white sticky-top shadow-sm py-2",children:[e.jsxs("div",{className:"container-fluid d-flex align-items-center flex-nowrap",children:[e.jsx(i,{to:"/",className:"navbar-brand fw-bold text-dark fs-4 flex-shrink-0 me-2",children:"FOREVER"}),e.jsx("form",{onSubmit:N,className:"flex-grow-1 mx-3",role:"search",children:e.jsx("input",{className:"form-control rounded-pill px-3 search-input",type:"search",placeholder:"Search products...","aria-label":"Search",value:m,onChange:s=>x(s.target.value)})}),e.jsx("button",{className:"navbar-toggler border-0 d-lg-none flex-shrink-0",onClick:()=>t(!0),type:"button","aria-controls":"offcanvasMenu",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsxs("div",{className:"d-none d-lg-flex align-items-center gap-3 ms-auto",children:[e.jsx("ul",{className:"navbar-nav d-flex flex-row gap-3 mb-0",children:p.map(s=>e.jsx("li",{className:"nav-item",children:e.jsx(b,{to:s.to,className:({isActive:o})=>`nav-link px-3 fw-medium ${o?"text-warning":"text-dark"}`,children:s.label})},s.to))}),a&&e.jsxs(i,{to:"/cart",className:"position-relative text-dark",children:[e.jsx(n,{name:"Cart",size:24}),e.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger small",children:(l==null?void 0:l.length)||0})]}),e.jsx(r.Suspense,{fallback:"Loading...",children:e.jsx(j,{})}),(a==null?void 0:a.role)==="admin"&&e.jsxs(i,{to:"/admin",className:"btn btn-sm btn-info rounded-pill px-3 d-flex align-items-center gap-1",children:[e.jsx(n,{name:"Admin",size:14})," Admin"]}),a&&e.jsxs("div",{className:"dropdown",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-dark rounded-pill px-2 shadow-sm d-flex align-items-center gap-1 dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:[e.jsx(n,{name:"User",size:18})," Account"]}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end shadow-lg rounded-3 border-0 p-2",children:[e.jsx("li",{children:e.jsxs(i,{to:"/change-password",className:"dropdown-item d-flex align-items-center fw-semibold gap-3 py-2 rounded",children:[e.jsx(n,{name:"Password",className:"text-success fs-5"}),"Change Password"]})}),e.jsx("li",{children:e.jsxs(i,{to:`/update-account/${a==null?void 0:a._id}`,className:"dropdown-item d-flex align-items-center fw-semibold gap-3 py-2 rounded",children:[e.jsx(n,{name:"Account",className:"text-primary fs-5"}),"Update Account"]})}),e.jsx("li",{children:e.jsxs(i,{to:"orders",className:"dropdown-item d-flex align-items-center gap-3 py-2 fw-semibold rounded",children:[e.jsx(n,{name:"Orders",className:"text-warning fs-5"}),"My Orders"]})}),e.jsx("li",{children:e.jsx("hr",{className:"dropdown-divider my-2"})}),e.jsx("li",{children:e.jsxs("button",{className:"dropdown-item d-flex align-items-center gap-3 py-2 text-danger fw-semibold rounded",onClick:h,children:[e.jsx(n,{name:"Logout",className:"fs-5"}),"Sign Out"]})})]})]})]})]}),e.jsxs("div",{className:`offcanvas offcanvas-start d-lg-none ${u?"show":""}`,tabIndex:"-1",children:[e.jsxs("div",{className:"offcanvas-header",children:[e.jsx("h5",{className:"offcanvas-title fw-bold",children:"Menu"}),e.jsx("button",{type:"button",className:"btn-close text-reset",onClick:()=>t(!1)})]}),e.jsxs("div",{className:"offcanvas-body d-flex flex-column gap-4 overflow-auto",children:[e.jsxs("div",{className:"d-flex flex-column gap-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 p-3 bg-light rounded-3 shadow-sm",children:[e.jsx(j,{size:48}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0 fw-semibold",children:(a==null?void 0:a.name)||"Guest User"}),e.jsx("small",{className:"text-muted",children:(a==null?void 0:a.email)||"Welcome to FOREVER"})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>c("/cart"),className:"btn btn-light rounded-pill d-flex align-items-center gap-2",children:[e.jsx(n,{name:"Cart"})," Cart (",(l==null?void 0:l.length)||0,")"]}),(a==null?void 0:a.role)==="admin"&&e.jsxs("button",{onClick:()=>c("/admin"),className:"btn btn-info rounded-pill text-white d-flex align-items-center gap-2",children:[e.jsx(n,{name:"Admin"})," Admin"]}),e.jsxs("button",{onClick:()=>c(`/update-account/${a==null?void 0:a._id}`),className:"btn btn-light rounded-pill d-flex align-items-center gap-2",children:[e.jsx(n,{name:"Account"})," Account"]}),e.jsxs("button",{onClick:()=>c("/orders"),className:"btn btn-light rounded-pill d-flex align-items-center gap-2",children:[e.jsx(n,{name:"Orders"})," My Orders"]}),e.jsxs("button",{className:"btn btn-outline-danger rounded-pill d-flex align-items-center gap-2",onClick:h,children:[e.jsx(n,{name:"Logout"})," Sign Out"]})]})]}),e.jsx("ul",{className:"navbar-nav text-start mt-3",children:p.map(s=>e.jsx("li",{className:"nav-item",children:e.jsxs(b,{to:s.to,onClick:()=>t(!1),className:({isActive:o})=>`nav-link d-flex align-items-center gap-3 px-3 py-2 rounded-3 fw-medium ${o?"bg-warning text-dark shadow-sm":"text-dark"}`,children:[s.icon," ",s.label]})},s.to))})]})]}),u&&e.jsx("div",{className:"offcanvas-backdrop fade show",onClick:()=>t(!1)})]})}export{S as default};
