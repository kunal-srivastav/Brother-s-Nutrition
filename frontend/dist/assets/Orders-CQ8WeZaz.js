import{b as m,a as f,r as v,h as w,j as a,i as y}from"./index-sGzm-zv8.js";import{u as C}from"./useToastMessage-DvcYMIlM.js";function P(){const l=m(),{myOrders:n,successMsg:b,errorMsg:N}=f(s=>s.orders);return C(N,b),v.useEffect(()=>{l(w())},[l]),a.jsx(a.Fragment,{children:(n==null?void 0:n.length)>0?a.jsxs("div",{className:"container mt-4",children:[a.jsx("h2",{className:"mb-4",children:"My Orders"}),a.jsx("div",{className:"row g-3",children:n==null?void 0:n.map(s=>{var t;return(t=s==null?void 0:s.orderItems)==null?void 0:t.map(c=>{var e,i,h,x,u,d,g,p,j;return a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:`card shadow-sm border-0 mb-3 ${(s==null?void 0:s.status)==="Cancelled"?"opacity-75":""}`,children:[a.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center bg-light",children:[a.jsxs("div",{children:[a.jsx("h6",{className:"mb-1",children:((e=c==null?void 0:c.product)==null?void 0:e.name)||"Product Name"}),a.jsxs("small",{className:"text-muted",children:["Order Date: ",new Date(s==null?void 0:s.createdAt).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"badge bg-primary text-uppercase me-2",children:(i=s==null?void 0:s.paymentMethod)==null?void 0:i.toUpperCase()}),a.jsx("span",{className:`badge ${(s==null?void 0:s.status)==="Pending"?"bg-warning":(s==null?void 0:s.status)==="Delivered"?"bg-success":(s==null?void 0:s.status)==="Cancelled"?"bg-danger":"bg-info"}`,children:s==null?void 0:s.status})]})]}),a.jsxs("div",{className:"card-body d-flex align-items-center",children:[a.jsx("img",{loading:"lazy",src:((x=(h=c==null?void 0:c.product)==null?void 0:h.images)==null?void 0:x[0])||"/placeholder.png",alt:((u=c==null?void 0:c.product)==null?void 0:u.name)||"product",width:80,className:"me-3 rounded shadow-sm"}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsxs("p",{className:"mb-1 fw-semibold",children:["₹",(((d=c==null?void 0:c.product)==null?void 0:d.finalPrice)*((c==null?void 0:c.quantity)||1)).toLocaleString(),a.jsxs("span",{className:"ms-3 text-warning",children:["Qty: ",c==null?void 0:c.quantity]}),a.jsxs("span",{className:"ms-3",children:["Weight: ",((g=c==null?void 0:c.product)==null?void 0:g.weight)||"N/A"]})]}),a.jsxs("p",{className:"mb-0 text-muted",children:["Product ID: ",(p=c==null?void 0:c.product)==null?void 0:p._id]})]})]}),a.jsxs("div",{className:"card-footer d-flex flex-wrap justify-content-between align-items-center",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("strong",{children:"Actions:"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("button",{className:"btn btn-sm btn-outline-primary me-2",disabled:(s==null?void 0:s.status)==="Cancelled",children:(s==null?void 0:s.status)==="Delivered"?"Returned":"Track Order"}),(s==null?void 0:s.status)==="Pending"&&a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>l(y(s==null?void 0:s._id)),children:"Cancel Order"})]})]}),a.jsxs("div",{className:"fw-semibold mb-2",children:["Total: ₹",(j=s==null?void 0:s.totalPrice)==null?void 0:j.toLocaleString()]})]})]})},c==null?void 0:c._id)})})})]}):a.jsx("div",{className:"text-center py-5",children:a.jsx("h5",{children:"No orders found"})})})}export{P as default};
