const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ReviewForm-CFyKZtc9.js","assets/index-sGzm-zv8.js","assets/index-DQt1lWaP.css","assets/useToastMessage-DvcYMIlM.js","assets/ReviewsList-D4Y2Q0OT.js","assets/Icons-DCsXMgab.js"])))=>i.map(i=>d[i]);
import{k as w,b as k,r,a as N,m as _,n as C,j as s,R as g,L as I,t as S,_ as v}from"./index-sGzm-zv8.js";/* empty css                */import{S as E,a as p,b as z}from"./Icons-DCsXMgab.js";const R=g.lazy(()=>v(()=>import("./ReviewForm-CFyKZtc9.js"),__vite__mapDeps([0,1,2,3]))),P=g.lazy(()=>v(()=>import("./ReviewsList-D4Y2Q0OT.js"),__vite__mapDeps([4,1,2,5]))),F=n=>{const t=[];for(let l=1;l<=5;l++)n>=l?t.push(s.jsx(E,{size:25},l)):n>=l-.5?t.push(s.jsx(p,{size:25,color:"#FFD700"},l)):t.push(s.jsx(z,{size:25,color:"#FFD700"},l));return t};function D(){var j,b,u;const{productId:n}=w(),t=k(),[l,m]=r.useState(1),[f,d]=r.useState(!1),[o,x]=r.useState(""),{product:e,relatedProducts:c}=N(a=>a.products),{added:h}=N(a=>a.carts);r.useEffect(()=>{var a;(a=e==null?void 0:e.images)!=null&&a.length&&x(e.images[0])},[e]),r.useEffect(()=>{n&&(t(_(n)),t(C(n)))},[t,n]);const y=()=>{t(S({productId:e._id,quantity:l}))};return s.jsxs("div",{className:"product-page container my-5",children:[s.jsxs("div",{className:"row g-5",children:[s.jsxs("div",{className:"col-lg-5",children:[s.jsx("div",{className:"main-image-wrapper mb-3",children:s.jsx("img",{loading:"lazy",src:o||(e==null?void 0:e.images[0]),alt:e==null?void 0:e.name,className:"img-fluid rounded shadow main-img",style:{cursor:"pointer"},onClick:()=>d(!0)})}),s.jsx("div",{className:"d-flex flex-wrap gap-2 thumbnail-wrapper",children:(j=e==null?void 0:e.images)==null?void 0:j.map((a,i)=>s.jsx("img",{loading:"lazy",src:a,alt:`thumbnail-${i}`,className:`thumbnail-img ${o===a?"selected":""}`,onClick:()=>x(a)},i))}),f&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop fade show",onClick:()=>d(!1),style:{zIndex:1040}}),s.jsx("div",{className:"modal fade show d-block",role:"dialog","aria-modal":"true",style:{zIndex:1050},children:s.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:s.jsxs("div",{className:"modal-content position-relative",children:[s.jsx("button",{type:"button",className:"btn-close position-absolute top-0 end-0 m-3",onClick:()=>d(!1),"aria-label":"Close",style:{zIndex:1060}}),s.jsx("div",{className:"modal-body p-0",children:s.jsxs("div",{id:"carouselExample",className:"carousel slide",children:[s.jsx("div",{className:"carousel-indicators",children:(b=e==null?void 0:e.images)==null?void 0:b.map((a,i)=>s.jsx("button",{type:"button","data-bs-target":"#carouselExample","data-bs-slide-to":i,className:i===0?"active":"","aria-current":i===0?"true":void 0,"aria-label":`Slide ${i+1}`},i))}),s.jsx("div",{className:"carousel-inner",children:(u=e==null?void 0:e.images)==null?void 0:u.map((a,i)=>s.jsx("div",{className:`carousel-item ${i===0?"active":""}`,children:s.jsx("img",{src:a,className:"d-block w-100",alt:`Slide ${i+1}`,style:{maxHeight:"80vh",objectFit:"contain"}})},i))}),s.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev",children:[s.jsx("span",{className:"carousel-control-prev-icon bg-dark rounded-circle p-2","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Previous"})]}),s.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"next",children:[s.jsx("span",{className:"carousel-control-next-icon bg-dark rounded-circle p-2","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})})]})]}),s.jsxs("div",{className:"col-lg-7",children:[s.jsx("h2",{className:"fw-bold mb-2",children:e==null?void 0:e.name}),s.jsxs("div",{className:"d-flex align-items-center mb-3",children:[F(e==null?void 0:e.averageRating),s.jsxs("span",{className:"ms-2 text-muted small",children:["(",e==null?void 0:e.numberOfReviews," reviews)"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("span",{className:"fs-2 fw-bold text-success",children:["₹",e==null?void 0:e.finalPrice]}),(e==null?void 0:e.discount)>0&&s.jsxs("del",{className:"ms-2 text-secondary fs-5",children:["₹",e==null?void 0:e.price]})]}),s.jsx("p",{className:"mb-3 text-muted",children:e==null?void 0:e.description}),s.jsxs("div",{className:"d-flex align-items-center mb-3",children:[s.jsx("button",{className:"btn btn-outline-primary",disabled:l===1,onClick:()=>m(l-1),children:"−"}),s.jsx("input",{type:"text",className:"form-control text-center mx-2",style:{width:"60px"},value:l,readOnly:!0}),s.jsx("button",{className:"btn btn-outline-primary",disabled:l===12,onClick:()=>m(l+1),children:"+"})]}),s.jsx("button",{className:`btn ${h?"btn-danger":"btn-success"} mb-3`,onClick:y,children:h?"Remove from Cart":"Add to Cart"}),s.jsxs("div",{className:"text-muted small",children:[(e==null?void 0:e.stock)>0?s.jsx("span",{className:"text-success",children:"In Stock"}):"Out of Stock",s.jsx("br",{}),"100% Original Product",s.jsx("br",{}),"Cash on delivery available",s.jsx("br",{}),"Easy return within 7 days"]})]})]}),s.jsx(r.Suspense,{fallback:"Loading",children:s.jsxs("div",{className:"mt-5",children:[s.jsx(R,{productId:e==null?void 0:e._id}),s.jsx(P,{productId:e==null?void 0:e._id})]})}),(c==null?void 0:c.length)>0&&s.jsxs("div",{className:"mt-5",children:[s.jsx("h3",{className:"text-center mb-4",children:"Related Products"}),s.jsx("div",{className:"row row-cols-2 row-cols-md-4 g-4",children:c==null?void 0:c.map(a=>s.jsx("div",{className:"col",children:s.jsx(I,{to:`/product/${a==null?void 0:a._id}`,className:"text-decoration-none",children:s.jsxs("div",{className:"card h-100 shadow-sm",children:[s.jsx("img",{src:a==null?void 0:a.images[0],loading:"lazy",className:"card-img-top",alt:a==null?void 0:a.name}),s.jsxs("div",{className:"card-body text-center",children:[s.jsx("p",{className:"mb-1 text-dark",children:a==null?void 0:a.name}),s.jsxs("p",{className:"mb-0 fw-bold text-success",children:["₹",a==null?void 0:a.finalPrice]})]})]})})},a==null?void 0:a._id))})]})]})}export{D as default};
