const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FormSpinnerWrapper-ClXTFahR.js","assets/index-sGzm-zv8.js","assets/index-DQt1lWaP.css"])))=>i.map(i=>d[i]);
import{c as j,a as m,r as b,b as v,j as e,R as N,_ as y,s as i,q as _}from"./index-sGzm-zv8.js";import{u as A}from"./useToastMessage-DvcYMIlM.js";const E=N.lazy(()=>y(()=>import("./FormSpinnerWrapper-ClXTFahR.js"),__vite__mapDeps([0,1,2])));function S(){const u=j(),{loggedInUser:r}=m(a=>a.users),[t,d]=b.useState({name:"",email:"",role:(r==null?void 0:r.role)||"user"}),o=v(),{errorMsg:p,successMsg:h,loading:x}=m(a=>a.users);A(p,h);const l=a=>{const{name:s,value:n}=a.target;d({...t,[s]:n})},f=async a=>{a.preventDefault();const{name:s,email:n,role:c}=t;if(!s&&!n&&!c){o(i("You must enter at least one of them"));return}try{await o(_({name:s,email:n,role:c})).unwrap(),setTimeout(()=>{u("/")},3e3)}catch(g){o(i(g||"Failed to Update Account"))}};return e.jsx("div",{className:"d-flex mt-5 justify-content-center",children:e.jsx(E,{loading:x,children:e.jsxs("form",{method:"post",onSubmit:f,className:"p-3 p-md-5 border rounded-3 bg-body-tertiary text-center",children:[e.jsx("h2",{className:"",children:"Update Account"}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"text",className:"form-control",value:t.name,placeholder:"name",name:"name",onChange:l}),e.jsx("label",{htmlFor:"floatingInput",children:"Name"})]}),e.jsxs("div",{className:"form-floating mb-3",children:[e.jsx("input",{type:"email",name:"email",className:"form-control",value:t.email,id:"floatingInput",placeholder:"name@example.com",onChange:l}),e.jsx("label",{htmlFor:"floatingInput",children:"Email address"})]}),e.jsxs("select",{className:"p-2 w-100 rounded-3",name:"role",value:t.role,onChange:l,children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("button",{className:"w-100 btn btn-lg btn-primary mt-3",type:"submit",children:"Update"})]})})})}export{S as default};
